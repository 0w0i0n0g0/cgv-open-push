<div align="center">

# CGV ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¬ë¯¸

<p align="center">
  <img src="./img/logo.png" width="160"/>
</p>

By_0w0i0n0g0

<br>
<br>

## [ì„œë²„ê°€ ì‘ë™ ì¤‘ì¸ì§€ ì—¬ê¸°ì„œ í™•ì¸í•˜ì„¸ìš”!](http://serverkorea.duckdns.org:5000)

###  http://serverkorea.duckdns.org:5000

<br>
<br>

## ğŸ“¢ ì•Œë¦¼

CGVì˜ ì„œë²„ ìª½ ì œí•œìœ¼ë¡œ ì¸í•´ ìµœëŒ€ 5ë¶„ ê°„ì˜ ì•Œë¦¼ ì§€ì—°ì´ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–‘í•´ ë¶€íƒ ë“œë¦½ë‹ˆë‹¤.

<br>
<br>

## ëª©ì°¨

[ì•Œë¦¼ ë°›ê¸°](#ì•Œë¦¼-ë°›ê¸°)

[Description](#description)

[Features](#features)

[Stack](#stack)

[License](#license)

</div>

<br>
<br>

## ğŸ” í˜„ì¬ ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¬ë¯¸ê°€ ì§€ì¼œë³´ê³  ìˆëŠ” ì˜í™”ëŠ”? (2024/05/05 ê¸°ì¤€)

- ìš©ì•„ë§¥ ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¬ë¯¸ (ë² íƒ€)
- ê·¹ì¥íŒí•˜ì´í!!ì“°ë ˆê¸°ì¥ì˜ê²°ì „ / ìš©ì‚°ì•„ì´íŒŒí¬ëª° / IMAX ê´€
- í˜¹ì„±íƒˆì¶œ-ìƒˆë¡œìš´ì‹œëŒ€ / ìš©ì‚°ì•„ì´íŒŒí¬ëª° / IMAX ê´€

<br>

### ì¶”ê°€ ê±´ì˜ë‚˜ ë¬¸ì˜ì‚¬í•­ì€ [issues](https://github.com/0w0i0n0g0/cgv-open-push/issues)ì— ë‚¨ê²¨ì£¼ì„¸ìš”!

https://github.com/0w0i0n0g0/cgv-open-push/issues

<br>
<br>

## ğŸ”” ì•Œë¦¼ ë°›ëŠ” ë°©ë²•!

### ë¨¼ì € ntfy ì•±ì„ ë‹¤ìš´ë°›ìœ¼ì„¸ìš”.

- [êµ¬ê¸€ í”Œë ˆì´ìŠ¤í† ì–´](https://play.google.com/store/apps/details?id=io.heckel.ntfy)

- [ì• í”Œ ì•±ìŠ¤í† ì–´](https://apps.apple.com/us/app/ntfy/id1625396347)

> ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¼ì„ ë°›ìœ¼ë ¤ë©´ ì„¤ì •ì—ì„œ ì•± ì•Œë¦¼ì„ í—ˆìš©í•´ì£¼ì„¸ìš”.

<br>

### êµ¬ë…ì„ ì¶”ê°€í•˜ì„¸ìš”.

ì•Œë¦¼ì„ ë°›ê¸° ìœ„í•´ ```Add subscription```ì„ ëˆŒëŸ¬ êµ¬ë…ì„ ì¶”ê°€í•´ì•¼ í•´ìš”.

ë¨¼ì € ë°‘ì˜ ì˜ˆì‹œì™€ ê°™ì´ ```Topic name```ì— ë°‘ì˜ êµ¬ë… ë¦¬ìŠ¤íŠ¸ ì¤‘ì—ì„œ ì•Œë¦¼ë°›ê³  ì‹¶ì€ ê²ƒì„ ê³¨ë¼ ì…ë ¥í•´ì£¼ì„¸ìš”. 

> ì •í™•íˆ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.

<p align="center">
  <img src="./img/topic-name.png" width="300"/>
</p>

<br>

---

### êµ¬ë… ë¦¬ìŠ¤íŠ¸

---

1. #### ìš©ì•„ë§¥ ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¬ë¯¸ (ë² íƒ€)

ì´ êµ¬ë…ì€ ìš©ì•„ë§¥ì— ìƒˆë¡œìš´ ì˜í™”ê°€ ë“±ë¡ë˜ê±°ë‚˜, ìƒˆ ë‚ ì§œì˜ ì˜ˆë§¤ê°€ ì˜¤í”ˆë˜ì—ˆì„ ë•Œ ì•Œë ¤ì¤ë‹ˆë‹¤!

ë‹¤ë§Œ íŠ¹ì • ì˜í™”ì˜ ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¼ ì „ì†¡ì—ëŠ” ëˆ„ë½ì´ ìˆì„ ìˆ˜ ìˆìœ¼ë‹ˆ, ê¸°ë‹¤ë¦¬ê³  ìˆëŠ” ì˜í™”ê°€ ìˆë‹¤ë©´ ë°‘ì˜ ì•Œë¦¬ë¯¸ë¥¼ êµ¬ë…í•´ì£¼ì„¸ìš”.

```
YONGSAN-IMAX
```

> ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.

<br>

2. #### ê·¹ì¥íŒí•˜ì´í!!ì“°ë ˆê¸°ì¥ì˜ê²°ì „ / ìš©ì‚°ì•„ì´íŒŒí¬ëª° / IMAX ê´€

```
HAIKU-YONGSAN-IMAX
```

> ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.

<br>

3. #### í˜¹ì„±íƒˆì¶œ-ìƒˆë¡œìš´ì‹œëŒ€ / ìš©ì‚°ì•„ì´íŒŒí¬ëª° / IMAX ê´€

```
APES-YONGSAN-IMAX
```

> ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.

---

<br>


ê·¸ë¦¬ê³  ë‹¤ìŒê³¼ ê°™ì´ ```Use another server```ë¥¼ í™œì„±í™” í›„, ```Service URL```ì—

```
http://serverkorea.duckdns.org
```

> ë³µì‚¬ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”.

ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.

<p align="center">
  <img src="./img/use-another-server.png" width="300"/>
</p>

> ë§Œì•½ ì˜¤ë¥˜ë©”ì„¸ì§€ê°€ ëœ¨ë©´ì„œ ì‹¤íŒ¨í•˜ê²Œ ëœë‹¤ë©´ ì¡°ê¸ˆ ê¸°ë‹¤ë¦° í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”. ê°œì¸ ì„œë²„ë¡œ ìš´ì˜ ì¤‘ì´ì—¬ì„œ 24ì‹œê°„ ì •ìƒì‘ë™ì„ ë³´ì¥í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

<br>
<br>

## ğŸ‰ ì´ì œ ë‹¤ ëë‚¬ì–´ìš”!

__ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´ Starâ­ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”. í° ë„ì›€ì´ ë©ë‹ˆë‹¤!__

<br>

### ì•ŒëŒì€ ì´ë ‡ê²Œ ì™€ìš”.


<p align="center">
  <img src="./img/example.png" width="300"/>
</p>

> ì‹¤ì œ ê°€ë™ì¤‘ì¸ ì„œë²„ì—ì„œ CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª° IMAXê´€ ë“„ íŒŒíŠ¸2 4ì£¼ì°¨ (2024/03/23 ~ 2024/03/29) ì˜ˆë§¤ ì˜¤í”ˆ ë‹¹ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ìš¸ë¦° ì•Œë¦¼ì´ì—ìš”.

<br>
<br>

> ì´ì „ ì•Œë¦¼ ë”ë³´ê¸°
>> [CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª° IMAX ê´€ ë“„ íŒŒíŠ¸2 (3)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-3.png)
>>
>> [CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª° IMAX ê´€ ë“„ íŒŒíŠ¸2 (4)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-4.png)
>>
>> [CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª° IMAX ê´€ ë“„ íŒŒíŠ¸2 (5)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-5.png)
>>
>> [CGV ìš©ì‚°ì•„ì´íŒŒí¬ëª° IMAX ê´€ ê³ ì§ˆë¼ X ì½©: ë‰´ ì— íŒŒì´ì–´ (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/godzilla-kong-1.png)

<br>
<br>

## Description

-  CGV ì˜ˆë§¤ ì˜¤í”ˆ ì•Œë¦¬ë¯¸ëŠ” CGVì˜ íŠ¹ì • ì˜í™”ê´€, íŠ¹ì • ì˜í™”ì˜ ìƒì˜ ì¼ì •ì„ ~~5ì´ˆ~~5ë¶„ë§ˆë‹¤ ê°±ì‹ í•˜ì—¬ ë³€ë™ì‚¬í•­ì„ í™•ì¸í•˜ê³ , ë³€ë™ì‚¬í•­ì´ ë°œìƒëœë‹¤ë©´ ntfyë¥¼ í†µí•´ êµ¬ë…ìë“¤ì—ê²Œ í‘¸ì‹œ ì•Œë¦¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.

- ì„œë²„ì˜ ì›í™œí•œ ì‘ë™ì„ ìœ„í•´ í•´ì™¸ IP ë° ê³¼ë„í•œ íŠ¸ë˜í”½ì„ ë°œìƒì‹œí‚¤ëŠ” IPì˜ ì ‘ì†ì„ ì„ì˜ ì°¨ë‹¨í•˜ê³  ìˆìŠµë‹ˆë‹¤.

- ì´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” ntfyë¥¼ í†µí•´ êµ¬ë…ìì—ê²Œ ì•Œë¦¼ì„ ì „ì†¡í•˜ê¸° ìœ„í•œ ì •ë³´ë¥¼ ì œì™¸í•˜ê³  ì‚¬ìš©ìë¥¼ íŠ¹ì •í•  ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ê°œì¸ì •ë³´ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì—…ë¡œë“œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

- ì´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” CGVì™€ ì–´ë– í•œ í˜‘ì˜ì—†ì´ ì œì‘ë˜ì—ˆìœ¼ë©°, ì¸í„°ë„·ì„ í†µí•´ ëª¨ë‘ê°€ ì ‘ê·¼ ê°€ëŠ¥í•˜ê³  ê³µê°œëœ ê²½ë¡œë¡œë§Œ ì •ë³´ë¥¼ ì·¨ë“í•©ë‹ˆë‹¤.

- ì´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” [**AGPL-3.0 license**](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/LICENSE)ë¡œ ë°°í¬ë˜ì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì´ ì†Œí”„íŠ¸ì›¨ì–´ë¥¼ í¬í•¨í•˜ê±°ë‚˜ ì†ŒìŠ¤ì½”ë“œì˜ ì¼ë¶€ë¶„ì„ ì‚¬ìš©, ìˆ˜ì •, 2ì°¨ ê°€ê³µ, ì¬ë°°í¬í•  ë•Œ í•´ë‹¹ ë¼ì´ì„¼ìŠ¤ì˜ ë‚´ìš©ì„ ì§€ì¼œì£¼ì‹œê¸° ë°”ëë‹ˆë‹¤.

<br>
<br>

## Features

- Send Push Notification
  - http://serverkorea.duckdns.org/{target_name}
    - Push notification when new date detected from *target_name*.

- Health Check
  - http://serverkorea.duckdns.org:5000
    - Server status
  - http://ntfy.sh/CGVOPENPUSHSERVER
  - http://serverkorea.duckdns.org/SERVER
    - Push notification when server start, end and error.

- Server Port
  - Internal
    - http://192.168.0.17 : nginx
    - http://192.168.0.17/monitoring : eZ Server monitor
    - http://192.168.0.17:9999 : private ntfy server
    - http://192.168.0.17:9090 : metrics
    - http://192.168.0.17:3000 : Grafana
    - http://192.168.0.17:9010 : Prometheus
    - http://192.168.0.17:5000 : Server status
  - External
    - http://serverkorea.duckdns.org : private ntfy server
    - http://serverkorea.duckdns.org:5000 : Server status

- Logging
  - cgv-open-push.log
    - maxBytes=5\*1024\*1024, backupCount=3, encoding='utf-8'

- Testing
  - cgv_open_push_test.py
    - test_send_curl_to_cgv_multiple
    - test_send_ntfy_push_health_check

- Autostart after Boot
  - sudo nano /etc/xdg/lxsession/LXDE-pi/autostart
    - @bash /home/pi/afterstart.sh
  - afterstart.sh

```bash
#!/bin/bash
python cgv_open_push_main.py &
python cgv_open_push_status.py &
echo 'raspberry' | sudo -S ntfy serve
cd prometheus
./prometheus --web.listen-address=:9010
```

<br>
<br>

## Stack

![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54) ![Debian](https://img.shields.io/badge/Debian-D70A53?style=for-the-badge&logo=debian&logoColor=white)

<br>
<br>

## License

**AGPL-3.0 license**

Read full license [here](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/LICENSE).

logo image - 
<a href="https://kr.freepik.com/free-photo/3d-render-notification-bell-icon-new-email-message_34503708.htm#query=%EC%95%8C%EB%A6%BC%20%EC%95%84%EC%9D%B4%EC%BD%98&position=0&from_view=keyword&track=ais&uuid=0303dc60-e421-4177-8ab2-29b1326ae712">ì‘ê°€ upklyak</a> ì¶œì²˜ Freepik