<div align="center">

# CGV 예매 오픈 알리미

<p align="center">
  <img src="./img/logo.png" width="160"/>
</p>

by_0w0i0n0g0

image_by_<a href="https://kr.freepik.com/free-photo/3d-render-notification-bell-icon-new-email-message_34503708.htm#query=%EC%95%8C%EB%A6%BC%20%EC%95%84%EC%9D%B4%EC%BD%98&position=0&from_view=keyword&track=ais&uuid=0303dc60-e421-4177-8ab2-29b1326ae712">upklyak</a>

</div>

<br>
<br>

### 👀 서버가 작동 중인지 여기서 확인하세요!

[서버 로그 및 상태 확인 페이지](https://cgv-open-push.wzero.dev)

<br>

### 📢 알림

추가 건의나 문의사항은 [issues](https://github.com/0w0i0n0g0/cgv-open-push/issues)에 남겨주시면 최대한 빠르게 검토하도록 하겠습니다.

<br>

### 🔎 현재 동작하고 있는 알리미는?

> (2024/07/15 기준)

- 용아맥 예매 오픈 알리미
- 용포디 예매 오픈 알리미
- 서면 IMAX 예매 오픈 알리미
- 영등포 IMAX 예매 오픈 알리미
- 영등포 SCREENX 예매 오픈 알리미
- 용아맥 명탐정코난-100만달러의펜타그램

<br>

### 📄 최근 업데이트 내역

영등포 SCREENX 예매 오픈 알리미가 요청에 따라 추가되었습니다.

<br>
<br>

## 알림 받는 방법!

### ntfy 앱을 다운받으세요.

- [구글 플레이스토어](https://play.google.com/store/apps/details?id=io.heckel.ntfy)

- [애플 앱스토어](https://apps.apple.com/us/app/ntfy/id1625396347)

> 예매 오픈 알림을 받으려면 설정에서 앱 알림을 허용해주세요.

<br>

### 구독을 추가하세요.

알림을 받기 위해 ```Add subscription``` 을 눌러 구독을 추가해야 해요.

먼저 밑의 예시와 같이 ```Topic name``` 에 아래의 **구독 리스트** 중에서 알림받고 싶은 것을 골라 입력해주세요. 

> 오타없이 정확히 입력해야 합니다.

<p align="center">
  <img src="./img/topic-name.png" width="300"/>
</p>

<br>

---

### 구독 리스트

---

- **용아맥 예매 오픈 알리미**

이 구독은 용산아이파크몰 CGV IMAX관에 새로운 영화가 등록되거나, 예매가 오픈되었을 때 알려줍니다!

```
YONGSAN-IMAX
```

> 복사 붙여넣기 해주세요.

<br>

- **용포디 예매 오픈 알리미**

이 구독은 용산아이파크몰 CGV 4DX관에 새로운 영화가 등록되거나, 예매가 오픈되었을 때 알려줍니다!

```
YONGSAN-4DX
```

> 복사 붙여넣기 해주세요.

<br>

- **서면 IMAX 예매 오픈 알리미**

이 구독은 부산 서면 CGV IMAX관에 새로운 영화가 등록되거나, 예매가 오픈되었을 때 알려줍니다!

```
SEOMYEON-IMAX
```

> 복사 붙여넣기 해주세요.

<br>

- **영등포 IMAX 예매 오픈 알리미**

이 구독은 영등포 CGV IMAX관에 새로운 영화가 등록되거나, 예매가 오픈되었을 때 알려줍니다!

```
YEONGDEUNGPO-IMAX
```

> 복사 붙여넣기 해주세요.

<br>

- **영등포 SCREENX 예매 오픈 알리미**

이 구독은 영등포 CGV SCREENX관에 새로운 영화가 등록되거나, 예매가 오픈되었을 때 알려줍니다!

```
YEONGDEUNGPO-SCREENX
```

> 복사 붙여넣기 해주세요.

<br>

- **용아맥 명탐정코난-100만달러의펜타그램**

이 구독은 용산아이파크몰 CGV IMAX관에서 상영하는 영화 중 명탐정코난-100만달러의펜타그램의 예매가 오픈되었을 때 알려줍니다!

```
CONAN-YONGSAN-IMAX
```

> 복사 붙여넣기 해주세요.


---

<br>

### 서버를 설정하세요.

```Topic name```을 입력했다면, 아래에 토글 버튼을 눌러서 다음과 같이 ```Use another server``` 를 활성화 후, ```Service URL``` 에

```
https://ntfy.wzero.dev
```

> 복사 붙여넣기 해주세요.

를 입력하고, ```Subscribe``` 버튼을 눌러주세요.

<p align="center">
  <img src="./img/use-another-server.png" width="300"/>
</p>

> 만약 오류메세지가 뜨면서 실패하게 된다면 조금 기다린 후 다시 시도해주세요. 해당 서비스는 개인 서버로 운영 중으로, 24시간 정상작동을 보장할 수 없습니다.

<br>
<br>

## 이제 다 끝났어요!

__🎉 유용하셨다면 Star⭐를 눌러주세요. 서비스를 유지하는데에 큰 힘이 됩니다!__
<br>

### 알림은 이렇게 와요.


<p align="center">
  <img src="./img/example.png" width="300"/>
</p>

> 실제 가동중인 서버에서 CGV 용산아이파크몰 IMAX관 듄 파트2 4주차 (2024/03/23 ~ 2024/03/29) 예매 오픈 당시 실시간으로 울린 알림이에요.

<br>
<br>

> 이전 알림 더보기
>> [용아맥 듄 파트2 (3)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-3.png)
>>
>> [용아맥 듄 파트2 (4)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-4.png)
>>
>> [용아맥 듄 파트2 (5)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/dune-part2-5.png)
>>
>> [용아맥 고질라 X 콩: 뉴 엠파이어 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/godzilla-kong-1.png)
>>
>> [용아맥 혹성탈출: 새로운 시대 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/apes-1.png)
>>
>> [용아맥 혹성탈출: 새로운 시대 (2)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/apes-2.png)
>>
>> [용아맥 퓨리오사 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/furiosa-1.png)
>>
>> [용아맥 퓨리오사 (2)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/furiosa-2.png)
>>
>> [용아맥 퓨리오사 (3)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/furiosa-3.png)
>>
>> [용아맥 극장판하이큐!!쓰레기장의결전 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/haiku-1.png)
>>
>> [용아맥 극장판하이큐!!쓰레기장의결전 (2)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/haiku-2.png)
>>
>> [용아맥 극장판하이큐!!쓰레기장의결전 (3)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/haiku-3.png)
>>
>> [용아맥 나쁜녀석들-라이드오어다이 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/badboys-1.png)
>>
>> [용포디 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-4dx-1.png)
>>
>> [용포디 (2)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-4dx-2.png)
>>
>> [용아맥 (1)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-imax-1.png)
>>
>> [용아맥 (2)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-imax-2.png)
>>
>> [용아맥 (3)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-imax-3.png)
>>
>> [용아맥 (4)](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/img/previous-push-notifications/yongsan-imax-4.png)

<br>
<br>

## 사용 전 반드시 읽어주세요.

-  CGV 예매 오픈 알리미는 CGV의 특정 영화관, 특정 영화의 상영 일정을 5분마다 갱신하여 변동사항을 확인하고, 변동사항이 발생된다면 ntfy를 통해 구독자들에게 푸시 알림을 전송합니다.

- 서버의 원활한 작동을 위해 Cloudflare의 보호를 받고 있습니다. Cloudflare가 비정상적인 접근 또는 과도한 트래픽을 발생시킨다고 판단하면 접속이 차단될 수 있습니다.

- 이 서비스는 ntfy를 통해 구독자에게 알림을 전송하기 위한 정보를 제외하고 사용자를 특정할 수 있는 형태의 개인정보를 저장하거나 업로드하지 않습니다.

- 이 서비스는 CGV와 어떠한 협의없이 제작되었으며, 인터넷을 통해 모두가 접근 가능하고 공개된 경로로만 정보를 취득합니다.

- 이 소프트웨어는 [**AGPL-3.0 license**](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/LICENSE)로 배포되었습니다. 따라서 이 소프트웨어를 포함하거나 소스코드의 일부분을 사용, 수정, 2차 가공, 재배포할 때 해당 라이센스의 내용을 지켜주시기 바랍니다.

<br>
<br>

## Features

- Send Push Notification
  - https://ntfy.wzero.dev/{target_name}
    - Push notification when new date detected from *target_name*.

- Health Check
  - https://cgv-open-push.wzero.dev
    - Server status
  - https://ntfy.sh/CGVOPENPUSHSERVER
  - https://ntfy.wzero.dev/SERVER
    - Push notification when server start, end and error.

- Docker Compose
```yaml
version: "3"

services:
  cgv-open-push:
    image: 0w0i0n0g0/cgv-open-push:latest
    container_name: cgv-open-push
    environment:
      TZ: "Asia/Seoul"
      NTFY_TOKEN: "Bearer tk_abcdefghijklmnopqrstuvwxyz"
      PRIVATE_NTFY_SERVER_ADDRESS: "https://ntfy.wzero.dev"
      PRIVATE_NTFY_PROMETHEUS_ADDRESS: "https://ntfy.wzero.dev/metrics"
    ports:
      - "10004:5000"
    restart: unless-stopped
```

<br>
<br>

## Stack

![Python](https://img.shields.io/badge/python-3670A0?style=for-the-badge&logo=python&logoColor=ffdd54) ![Docker](https://img.shields.io/badge/docker-0db7ed.svg?style=for-the-badge&logo=docker&logoColor=white) ![ntfy](https://img.shields.io/badge/ntfy-317F6F.svg?style=for-the-badge&logo=ntfy&logoColor=white)

<br>
<br>

## License

**AGPL-3.0 license**

Read full license [here](https://github.com/0w0i0n0g0/cgv-open-push/blob/main/LICENSE).